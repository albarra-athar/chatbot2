---
/* Tidak pakai Layout supaya tidak error */
---

<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot Tugas Kuliah</title>

    <!-- Dialogflow Messenger -->
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>

    <style>
      body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, sans-serif;
        background: #f3f4f6;
        color: #111827;
      }

      .container {
        max-width: 900px;
        margin: 40px auto;
        padding: 24px;
      }

      h1 {
        font-size: 1.6rem;
        margin-bottom: 8px;
      }

      p {
        color: #4b5563;
        margin-bottom: 16px;
      }

      .examples {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 12px;
        margin-bottom: 32px;
      }

      .examples button {
        background: #e5e7eb;
        border: 1px solid #d1d5db;
        padding: 10px 12px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.9rem;
        text-align: left;
      }

      .examples button:hover {
        background: #d1d5db;
      }

      df-messenger {
        --df-messenger-bot-message: #ffffff;
        --df-messenger-user-message: #e5e7eb;
        --df-messenger-font-color: #111827;
        --df-messenger-button-titlebar-color: #e5e7eb;
        --df-messenger-chat-background-color: #f9fafb;
        --df-messenger-send-icon: #4b5563;
        --df-messenger-user-message-text-color: #111827;
        position: fixed;
        bottom: 16px;
        right: 16px;
        z-index: 999;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>ðŸ“š Chatbot Tugas Kuliah</h1>
      <p>
        Gunakan chatbot untuk mencatat tugas, melihat daftar tugas, dan mengubah
        status tugas.
      </p>

      <h3>Contoh perintah</h3>
      <div class="examples">
        <button data-example="Tambah tugas Quiz 3 untuk Kalkulus besok jam 19:00 prioritas tinggi">
          Tambah tugas Quiz 3 untuk Kalkulus besok jam 19:00 prioritas tinggi
        </button>

        <button data-example="Tambah tugas Laporan Praktikum untuk Fisika besok jam 19:00">
          Tambah tugas Laporan Praktikum untuk Fisika besok jam 19:00
        </button>

        <button data-example="Tugas Kalkulus apa saja?">
          Tugas Kalkulus apa saja?
        </button>

        <button data-example="Tugas besok apa saja?">
          Tugas besok apa saja?
        </button>

        <button data-example="Tandai tugas Quiz 3 selesai">
          Tandai tugas Quiz 3 selesai
        </button>
      </div>
    </div>

    <!-- Dialogflow Messenger Widget -->
    <df-messenger
      chat-title="Chatbot_Tugas_Kuliah"
      agent-id="e6380229-e150-4622-8273-ba23458ecf91"
      language-code="id"
    ></df-messenger>

    <!-- Script klik contoh -> masuk ke chat -->
    <script>
  document.addEventListener("click", (e) => {
    const target = e.target;
    if (!(target instanceof Element)) return;

    const btn = target.closest("button[data-example]");
    if (!btn) return;

    const text = btn.getAttribute("data-example");
    if (!text) return;

    const messenger = document.querySelector("df-messenger");
    if (!messenger) return;

    const shadow1 = messenger.shadowRoot;
    const chat = shadow1?.querySelector("df-messenger-chat");
    const shadow2 = chat?.shadowRoot;
    const inputWrap = shadow2?.querySelector("df-messenger-user-input");
    const shadow3 = inputWrap?.shadowRoot;

    const input = shadow3?.querySelector("textarea, input");
    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) {
      alert("Chat belum siap. Tunggu 1â€“2 detik lalu coba lagi.");
      return;
    }

    input.value = text;
    input.dispatchEvent(new Event("input", { bubbles: true }));
    input.focus();
  });
</script>

  </body>
</html>





